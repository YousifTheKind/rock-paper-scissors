<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>

    <button>Rock</button>
    <button>Paper</button>
    <button>Scissors</button>

    <div id="displayResults"></div>
    
    <script>
        const buttons = document.querySelectorAll('button');


        buttons.forEach(buttons => 
        buttons.addEventListener('click', (e) => {
            game(e.target.innerText);
        }));

        // create a function called getComputerChoice
        // create an array that holds the three choices
        // create a variable that would hold the randomly generated computer choice
        // write the line of code that will pick a random value from the array you created 

        function getComputerChoice() {
            choices = ["Rock", "Paper", "Scissors"];

            computerChoice = Math.floor(Math.random() * choices.length);
            return choices[computerChoice];
        }

        // write a function called playRound that takes two parameters playerSelection and computerSelection
        // the function should take what the player input was and compare it to the computer's choice and declare a winner
        // convert the playerSelection .toUpperCase()
        // writ write switch statement that takes playerSelection as expression
        // ... and case one "ROCK" case two "PAPER" case three "SCISSORS"
        // write if statement inside each case to compare it with computerSelection and output the winner
        function playRound (playerSelection, computerSelection) {
            firstChar = playerSelection.charAt(0).toUpperCase();
            restChars = playerSelection.substr(1, playerSelection.length).toLowerCase();
            playerSelection = firstChar + restChars;

            switch (playerSelection) {
                case "Rock": {
                    if(computerSelection == "Paper"){
                        return "You Lose! Paper beats Rock"
                    }
                    else if (computerSelection == "Scissors") {
                        return "You Win! Rock beats Scissors"
                    }
                    else {
                        return "It's a Tie! Play Again"
                        playRound();
                        return;
                    }
                    break;
                }

                case "Paper": {
                    if(computerSelection == "Scissors"){
                        return "You Lose! Scissors beats Paper"
                    }
                    else if (computerSelection == "Rock") {
                        return "You Win! Paper beats Rock"
                    }
                    else {
                        return "It's a Tie! Play Again"
                        playRound();
                        return;
                    }
                    break;
                }

                case "Scissors": {
                    if(computerSelection == "Rock"){
                        return "You Lose! Rock beats Scissors"
                    }
                    else if (computerSelection == "Paper") {
                        return "You Win! Scissors beats Paper"
                    }
                    else {
                        return "It's a Tie! Play Again"
                        playRound();
                        return;
                    }
                    break;

                }

                default:
                    return "Please enter either Rock, Paper or Scissors"
            }
            
        }

        //create a function called game
        // create variable userScore & compScore initilize to zero
        //create a for loop that loops 5 times
        // inside the for loop create variable userInput that holds the result of prompt()
        // use userInput as argument in playRound()
        // if the output of playRound starts with You Win increment userScore by 1
        // if the output of playRound starts with You Lose then increment compScore by one
        // else decrement i 
        // outside the loop if userScore == 3 console log you won
        // if compScore == 3 console log you lost

        let playerScore = 0;
        let compScore = 0;

        function game(buttonClicked) {

            buttonClicked.toString();

            let winner = playRound(buttonClicked, getComputerChoice());

            console.log(winner);

            if(winner.startsWith("You Win!")) {
                    ++playerScore;
                }
            else if(winner.startsWith("You Lose!")) {
                    ++compScore;
                }

            if(playerScore == 3) {
                console.log("Congrats! You Won The Game\nScore:\n You: " + playerScore + " Computer: " + compScore)
                playerScore = 0;
                compScore = 0;
            };
            
            if(compScore == 3) {
                console.log("Hard Luck! You lost the game\nScore:\n You: " + playerScore + " Computer: " + compScore);
                playerScore = 0;
                compScore = 0;
            }
        }
    </script>
</body>
</html>